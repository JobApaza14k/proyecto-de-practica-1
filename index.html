<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programación Numérica - Job Edward Apaza Curtihuanca</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        .header img {
            max-width: 200px;
            height: auto;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .info-section {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .docente, .estudiante, .curso {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .docente { color: #e74c3c; }
        .estudiante { color: #3498db; }
        .curso { color: #8e44ad; }

        .descripcion h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .vision-mision {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }

        .vision, .mision {
            color: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .vision { background: linear-gradient(135deg, #74b9ff, #0984e3); }
        .mision { background: linear-gradient(135deg, #fd79a8, #e84393); }

        .unidades {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .unidad {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        }

        .unidad h2 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.8em;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }

        .unidad-2 h2 { border-bottom-color: #e74c3c; }

        .file-upload {
            margin-bottom: 20px;
            padding: 20px;
            border: 2px dashed #3498db;
            border-radius: 10px;
            text-align: center;
            background: #f8f9fa;
        }

        .file-input {
            margin: 10px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .btn {
            background: linear-gradient(135deg, #00cec9, #55a3ff);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-danger {
            background: linear-gradient(135deg, #e17055, #d63031);
        }

        .btn-success {
            background: linear-gradient(135deg, #00b894, #00a085);
        }

        .trabajos-lista {
            list-style: none;
            margin-bottom: 20px;
        }

        .trabajo-item {
            background: #f8f9fa;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 5px solid #3498db;
            position: relative;
        }

        .unidad-2 .trabajo-item { border-left-color: #e74c3c; }

        .trabajo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .trabajo-nombre {
            font-weight: bold;
            color: #2c3e50;
        }

        .trabajo-acciones button {
            padding: 5px 10px;
            font-size: 0.8em;
            margin-left: 5px;
        }

        .code-viewer {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }

        .code-viewer.show { display: block; }

        .output-area {
            background: #1a202c;
            color: #green;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            min-height: 100px;
            display: none;
        }

        .output-area.show { display: block; }

        .output-area.error { color: #ff6b6b; }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 20px;
            border-radius: 15px;
            width: 90%;
            max-width: 1000px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover { color: black; }

        .code-editor {
            width: 100%;
            min-height: 300px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #2d3748;
            color: #e2e8f0;
        }

        @media (max-width: 768px) {
            .unidades, .vision-mision {
                grid-template-columns: 1fr;
            }
            
            .header h1 { font-size: 2em; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <img src="imagen_1.jpg" alt="Programación Numérica" id="imagen-curso">
            <h1>PROGRAMACIÓN NUMÉRICA</h1>
            <div class="docente">Docente: FRED CRUZ TORRES</div>
            <div class="estudiante">Estudiante: JOB EDWARD APAZA CURTIHUANCA</div>
            <div class="curso">Curso: PROGRAMACIÓN NUMÉRICA</div>
        </header>

        <section class="info-section">
            <div class="descripcion">
                <h3>📋 Descripción del Curso</h3>
                <p>
                    La Programación Numérica es una disciplina fundamental que combina matemáticas, algoritmos y programación para resolver problemas complejos mediante métodos computacionales. Este curso abarca desde los fundamentos teóricos hasta la implementación práctica de algoritmos numéricos para la resolución de ecuaciones, interpolación, integración numérica, diferenciación, optimización y análisis de datos.
                </p>
                <p>
                    Los estudiantes desarrollarán habilidades en el análisis de convergencia, estabilidad numérica y eficiencia computacional, utilizando lenguajes de programación modernos para crear soluciones robustas a problemas del mundo real en ingeniería, física, economía y ciencias de datos.
                </p>
            </div>

            <div class="vision-mision">
                <div class="vision">
                    <h4>🔭 Visión Personal</h4>
                    <p>
                        Convertirme en un experto en programación numérica, desarrollando soluciones innovadoras y eficientes que contribuyan al avance científico y tecnológico, aplicando métodos numéricos avanzados para resolver problemas complejos en diversas áreas del conocimiento.
                    </p>
                </div>
                <div class="mision">
                    <h4>🎯 Misión Personal</h4>
                    <p>
                        Dominar los fundamentos teóricos y prácticos de la programación numérica, desarrollar código de alta calidad, colaborar en proyectos interdisciplinarios y mantener un aprendizaje continuo para estar a la vanguardia en métodos computacionales y tecnologías emergentes.
                    </p>
                </div>
            </div>
        </section>

        <main class="unidades">
            <section class="unidad unidad-1">
                <h2>📚 UNIDAD 1</h2>
                <div class="file-upload">
                    <h4>Subir nuevo trabajo</h4>
                    <input type="file" class="file-input" accept=".py,.js,.html,.cpp,.c,.java,.txt" onchange="subirArchivo(1, this)">
                    <input type="text" class="file-input" placeholder="Nombre del trabajo" id="nombreTrabajo1">
                    <br>
                    <button class="btn" onclick="agregarTrabajo(1)">📤 Subir Trabajo</button>
                </div>
                <ul class="trabajos-lista" id="trabajos-unidad1"></ul>
            </section>

            <section class="unidad unidad-2">
                <h2>📊 UNIDAD 2</h2>
                <div class="file-upload">
                    <h4>Subir nuevo trabajo</h4>
                    <input type="file" class="file-input" accept=".py,.js,.html,.cpp,.c,.java,.txt" onchange="subirArchivo(2, this)">
                    <input type="text" class="file-input" placeholder="Nombre del trabajo" id="nombreTrabajo2">
                    <br>
                    <button class="btn" onclick="agregarTrabajo(2)">📤 Subir Trabajo</button>
                </div>
                <ul class="trabajos-lista" id="trabajos-unidad2"></ul>
            </section>
        </main>
    </div>

    <!-- Modal para visualizar y editar código -->
    <div id="codeModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="cerrarModal()">&times;</span>
            <h3 id="modalTitle">Visualizar Código</h3>
            <div>
                <button class="btn btn-success" onclick="ejecutarCodigo()">▶️ Ejecutar</button>
                <button class="btn" onclick="editarCodigo()">✏️ Editar</button>
                <button class="btn btn-danger" onclick="cerrarModal()">❌ Cerrar</button>
            </div>
            <div id="codeContent" class="code-viewer"></div>
            <textarea id="codeEditor" class="code-editor" style="display:none;"></textarea>
            <div id="outputArea" class="output-area"></div>
        </div>
    </div>

    <script>
        let archivos = {
            1: [],
            2: []
        };
        let archivoTemporal = {};

        function subirArchivo(unidad, input) {
            const archivo = input.files[0];
            if (archivo) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    archivoTemporal[unidad] = {
                        nombre: archivo.name,
                        contenido: e.target.result,
                        tipo: archivo.name.split('.').pop().toLowerCase()
                    };
                };
                reader.readAsText(archivo);
            }
        }

        function agregarTrabajo(unidad) {
            const nombreInput = document.getElementById(`nombreTrabajo${unidad}`);
            const nombreTrabajo = nombreInput.value.trim();
            
            if (!nombreTrabajo) {
                alert('Por favor, ingresa un nombre para el trabajo.');
                return;
            }
            
            if (!archivoTemporal[unidad]) {
                alert('Por favor, selecciona un archivo primero.');
                return;
            }

            const trabajo = {
                id: Date.now(),
                nombre: nombreTrabajo,
                archivo: archivoTemporal[unidad].nombre,
                contenido: archivoTemporal[unidad].contenido,
                tipo: archivoTemporal[unidad].tipo,
                fecha: new Date().toLocaleDateString()
            };

            archivos[unidad].push(trabajo);
            mostrarTrabajos(unidad);
            
            // Limpiar inputs
            nombreInput.value = '';
            document.querySelector(`.unidad-${unidad} .file-input[type="file"]`).value = '';
            delete archivoTemporal[unidad];
        }

        function mostrarTrabajos(unidad) {
            const lista = document.getElementById(`trabajos-unidad${unidad}`);
            lista.innerHTML = '';
            
            archivos[unidad].forEach(trabajo => {
                const item = document.createElement('li');
                item.className = 'trabajo-item';
                item.innerHTML = `
                    <div class="trabajo-header">
                        <span class="trabajo-nombre">${trabajo.nombre}</span>
                        <div class="trabajo-acciones">
                            <button class="btn" onclick="verCodigo(${unidad}, ${trabajo.id})">👁️ Ver</button>
                            <button class="btn btn-success" onclick="ejecutarDirecto(${unidad}, ${trabajo.id})">▶️ Ejecutar</button>
                            <button class="btn btn-danger" onclick="eliminarTrabajo(${unidad}, ${trabajo.id})">🗑️</button>
                        </div>
                    </div>
                    <small>📁 ${trabajo.archivo} - 📅 ${trabajo.fecha}</small>
                `;
                lista.appendChild(item);
            });
        }

        function verCodigo(unidad, id) {
            const trabajo = archivos[unidad].find(t => t.id === id);
            if (trabajo) {
                document.getElementById('modalTitle').textContent = `${trabajo.nombre} - ${trabajo.archivo}`;
                document.getElementById('codeContent').textContent = trabajo.contenido;
                document.getElementById('codeContent').style.display = 'block';
                document.getElementById('codeEditor').style.display = 'none';
                document.getElementById('outputArea').style.display = 'none';
                document.getElementById('codeModal').style.display = 'block';
                
                // Guardar referencia actual
                window.trabajoActual = { unidad, id };
            }
        }

        function editarCodigo() {
            const codeContent = document.getElementById('codeContent');
            const codeEditor = document.getElementById('codeEditor');
            
            codeEditor.value = codeContent.textContent;
            codeContent.style.display = 'none';
            codeEditor.style.display = 'block';
        }

        function ejecutarCodigo() {
            const trabajo = archivos[window.trabajoActual.unidad].find(t => t.id === window.trabajoActual.id);
            const outputArea = document.getElementById('outputArea');
            
            if (!trabajo) return;
            
            let codigo = document.getElementById('codeEditor').style.display === 'block' 
                ? document.getElementById('codeEditor').value 
                : trabajo.contenido;

            outputArea.className = 'output-area show';
            outputArea.innerHTML = '<div>🚀 Ejecutando...</div>';

            try {
                // Capturar console.log
                let output = [];
                const originalLog = console.log;
                console.log = function(...args) {
                    output.push(args.join(' '));
                    originalLog.apply(console, args);
                };

                if (trabajo.tipo === 'js' || trabajo.tipo === 'javascript') {
                    // Ejecutar JavaScript
                    eval(codigo);
                    setTimeout(() => {
                        console.log = originalLog;
                        outputArea.innerHTML = output.length > 0 
                            ? output.map(line => `<div>> ${line}</div>`).join('')
                            : '<div>✅ Código ejecutado correctamente (sin output)</div>';
                    }, 100);
                } else if (trabajo.tipo === 'html') {
                    // Para HTML, mostrar en iframe
                    outputArea.innerHTML = `
                        <div>📄 Vista previa HTML:</div>
                        <iframe srcdoc="${codigo.replace(/"/g, '&quot;')}" 
                                style="width:100%; height:300px; border:1px solid #ddd; border-radius:5px; margin-top:10px;">
                        </iframe>
                    `;
                } else {
                    // Para otros lenguajes, mostrar mensaje
                    outputArea.innerHTML = `
                        <div>ℹ️ Tipo de archivo: ${trabajo.tipo.toUpperCase()}</div>
                        <div>📝 Este tipo de archivo requiere un compilador/intérprete específico.</div>
                        <div>💡 Para Python: Usa un intérprete de Python</div>
                        <div>💡 Para C/C++: Usa un compilador como GCC</div>
                        <div>💡 Para Java: Usa javac y java</div>
                    `;
                }
            } catch (error) {
                outputArea.className = 'output-area show error';
                outputArea.innerHTML = `<div>❌ Error: ${error.message}</div>`;
            }
        }

        function ejecutarDirecto(unidad, id) {
            verCodigo(unidad, id);
            setTimeout(ejecutarCodigo, 100);
        }

        function eliminarTrabajo(unidad, id) {
            if (confirm('¿Estás seguro de eliminar este trabajo?')) {
                archivos[unidad] = archivos[unidad].filter(t => t.id !== id);
                mostrarTrabajos(unidad);
            }
        }

        function cerrarModal() {
            document.getElementById('codeModal').style.display = 'none';
        }

        // Manejar imagen no encontrada
        document.getElementById('imagen-curso').onerror = function() {
            this.src = 'data:image/svg+xml;base64,PHN2ZyB
